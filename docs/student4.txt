الجمهورية العربية السورية
جامعة دمشق
كلية الهندسة المعلوماتية



دراسة مرجعية ل
Swinging Pain Bucket

الطلاب:
 برنار جان توكمه جي
أحمد زعويط
مضر بو حدور
محمد نادر خضرو (اعادة عملي)





أولا: توصيف المشروع
اهداف المشروع
الهدف من هذه الدراسة هو الوصول لمحاكاة تجربة الرسم باستخدام الدلو المتأرجح بنسبة شبيهة للواقع قدر الامكان، و سيتم ذلك عن طريق استخدام Unity physics engine و مجموعة من القوانين الفيزيائية.

مكونات التجربة:
تتألف التجربة من سطل دهان مثقوب من الاسفل و معللق من الأعلى بواسطة حبل متين غير قابل للثني، اثناء التجربة يتم افلات السطل فيتأرجح و يتم ولوج الطلاء من الأسفل اثناء التأرجح علو لوحة قماشية موجودة أسفل السطل من أجل رسم أشكال عشوائية و استبيان شكل نمط حركة السطل.


توصيف المشكلة: 
من أجل تنفيذ هذه المحاكاة علينا تجزيء المشكلة الى قسمين أساسيين و حل كل قسم من هذه الأقسام بمذهبين؛ الأول هو الدراسة الفيزيائية الواقعية لهذه المشكلة و الثاني هو ايجاد الطريقة المثلى للتمثيل على الحاسب Specification, Implementation
المشكلة الأولى: حركة نواس في فضاء ثلاثي أبعاد
من أجل محاكاة حركة النواس سوف يتم استخدام معادلات لاغرانج للحركة، و من أجل هذه المحاكاة تم اختيار معادلات لاغرانج بدلا من قوانين نيوتن للحركة لأفضلية معادلات لاغرانج بحساب معادلات الحركة من دون معرفة جميع القيود و القوى المطبقة، حيث يمكن للنظام اختيار احداثيات عامة و حساب المعادلات تحليليا في تلك الاحداثيات على عكس قوانين نيوتن التي تتطللب معرفة تامة بالقيود و الطبيعة الجغرافية للنظام.
المشكلة الثانية: ميكانيك السوائل:
نحتاج ميكانيك السوائل من أجل معرفة كيفية تحرك السائل داخل السطل أثناء الأرجحة، و من أجل حساب كيفية و كمية خروج السائل اثناء الولوج الى خارج السطل و الهبوط على اللوحة القماشية.
من أجل القيام بهذه الحسابات سوف نستخدم قوانين نافيير ستوكس للسوائل و عند القيام بالمحاكاة البرمجية سوف نأخد بعين الاعتبار ولوج السوائل، تبعثرها و حركة أجزاء السائل داخله عند التأثر بسرعة تحررك السائل.



ثانيا: الدراسة الفيزيائية:
دراسة حركة النواس: 
    • معادلات الحركة:



    • معادلات السرعة: 




    • باستخدام قانون لاغرانج 



                                                            
    • معادلة لاغرانج: 


تصبح معادلة نواس بسيط عند:



دراسة حركة السوائل:
لدراسة حركة السوائل استعنا بمعادلات نافيير ستوكس للسوائل، التي نحافظ من خلالها على كتلة السوائل اثناء حركتها  أجل قوانين نيوتن بالحركة
المعادلة الأولى: 
من أجل ضمان عدم اختفاء او تشكيل المادة من العدم تضمن هذه المعادلة ان المناطق المجاورة للسائل لا تتحرك نحو او بعيدا عن مركز محدد.

المعادلة الثانية: 
سرعة السائل   
مكون الضغط  : اي تحرك السائل يحصل دائما من الضغط الاعلى الى الضغط الأخفض
اللزوجة  : كلما زاد الاحتكاك بين نقطتين في السائل زادت سهولة و سرعة انتشار هذا الاحتكاك في السائل
القوى الخارجية   : مثال على ذلك، الجاذبية الأرضية، العوائق...
ثالثا: تطبيق المحاكاة الفيزيائية 
حركة النواس: 
نكتب معادلات الحركة حسب قوانين لاغرانج كما تم استنتاجها سابقا


ثم نقوم بعزل الأطراف من أجل حساب التسارع:


و نعيد الصياغة من أجل مراعاة فضاء الحالة: 

و من أجل القيام بهذه الحسابات برمجيا، نكتب دالة  من أجل القيام بالحسابات السابقة و من ثمة نكتب دالة  حيث: 
و بالعودة الى معادلات الحركة السابقة 



يكون لدينا جميع القوانين و الدوال اللازمة من أجل حساب مكان النواس، نطبق هذه الدراسة على الحبل المعللق بسطل و يصبح لدينا تأرجح أقرب ما يمكن للواقع.

حركة السائل: 
سوف نقوم بكتابة particle system for Unity من أجل تمثيل حركة السائل، و يتم التمثيل عن طريق قسم الشاشة الى عدد من المربعات، كلما صغرت مساحة هذه المربعات زادت دقة التمثيل. 

كثافة السائل:
كل مربع يحوي رقم يمثل نسبة لونية لكمية السائل المتواجد في مكانه و مع تحررك السائل تختلف هذه النسب
من أجل تحقيق نسب قريبة من الواقع، سنعبر عن ذلك بأن كل مربع يتمثل بمتوسط نسب المربعات ال 4 من أعلاه، اسفله ، يمينه و يساره
عن طريق المعادلات التالية: 
بفرض أن  هي كثافة السائل بالمربع في المكان  فيكون متوسط الكثافة يساوي: 

و من أجل الحساب عند التحررك نفرض:
: عدد مرات التغيير التي تختلف حسب طبيعة السائل و لزوجته و المقدار الزمني للمحاكاة
: الحالة الحالية 
: الحالة القادمة
نهدف لتحويل قيمة النسبة بالمربعات من  بشكل تدريجي
فنرى أنه يمكننا ذلك من خلال العلاقة: 
لكن من أجل قيم كبيرة ل  سنرى ظهور نسب غير مستقرة، أما في حال تثبيت قيمتها ما دون 1 فهذه المشكلة لن تظهر، أو نستطيع حل هذه المشكلة عن طريق تحويل المعادلة الى الشكل التالي: 

حيث يتم التقريب باستخدام الحل التكراري ل غاوس-سيدال
انتشار السائل:
من أجل حساب انتشار السائل يجب اخذان طبيعة انتشار السائل بالحسبان، حيث انه في حال حركة متجه السرعة تتم من منتصف المؤبع الحالي الى منتصف المربع القادم لكانت أصبحت المعادلات الموجودة عندنا سابقا تكفي من أجل الحل لكن المشكلة ان متجه حركة السائل لا يتحررك من منتصف مربع الى منتصف مربع آخر بل يؤثر بالمربعات الاربعة المحيطة به و لذلك نحتاج الى معادلات اضافية.
          
نواجه في هذه الحالة مشكلة أنه يمكن أن يوجد أكر من مربع يؤثرون على نفس المكان و من أجل حل هذه المشكة نقوم بالحل بشكل معاكس و نحاول أن نحسب الكثافة بشكل دقيق قبل الانتشار و نحسب الموجه الى اين يتجه تماما بهذه الطريقة.


التنقيح من ال divergence:
عند برمجة حركة السائل يوجد لمتجهات الحركة نوعين من الحركة، حركة التفافية و حركة نحو أو بعيدا عن مركز محدد 


و من أجل التخللص من هذه الظاهرة لأنه من غير الصحيح وجودها بالسوائل نقوم باستخدام نظرية هيلمهولتز لحساب المتجهات تحليليا التي تنص على أنه كل مجال متجهات يتكون من مجموع مجالين، و في حالتنا هذه يتكون من مجال خالي من الالتفاف و مجال خالي من ال divergence و لكن لا يوجد طريقة مباشرة لحساب divergence free part و لذلك حسب المجال الخالي من الالتفاف و ننقصه من المجال الكللي 


أولا نحسب ال divergence من أجل كل نقطة بالمجال عن طريق المعادلة التالية:
ثم نقوم بحساب المجال الخالي من الالتفاف باستخدام ما سبق:

و بهذه المعادلات يكون لدينا كل ما نلزم من أجل تنفيذ المحاكاة.
المراجع:
حركة النواس:
    • الفرق بين فيزياء لاغرانج و فيزياء نيوتن
    • دراسة حركة نواس المركب في فضاء ثلاثي أبعاد
    • معادلات النواس وفقا لفيزياء لاغرانج
حركة السوائل:
    • نافيير-ستوكس
    • غاوس سيدال
    • نظريات هيلملوتز
